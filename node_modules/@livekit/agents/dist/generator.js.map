{"version":3,"sources":["../src/generator.ts"],"sourcesContent":["// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\nimport type { JobContext, JobProcess } from './job.js';\n\n/** @see {@link defineAgent} */\nexport interface Agent {\n  entry: (ctx: JobContext) => Promise<void>;\n  prewarm?: (proc: JobProcess) => unknown;\n}\n\n/** Helper to check if an object is an agent before running it.\n *\n * @internal\n */\nexport function isAgent(obj: unknown): obj is Agent {\n  return (\n    typeof obj === 'object' &&\n    obj !== null &&\n    'entry' in obj &&\n    typeof (obj as Agent).entry === 'function' &&\n    (('prewarm' in obj && typeof (obj as Agent).prewarm === 'function') || !('prewarm' in obj))\n  );\n}\n\n/**\n * Helper to define an agent according to the required interface.\n * @example A basic agent with entry and prewarm functions\n * ```\n * export default defineAgent({\n *   entry: async (ctx: JobContext) => { ... },\n *   prewarm: (proc: JobProcess) => { ... },\n * })\n * ```\n */\nexport function defineAgent(agent: Agent): Agent {\n  return agent;\n}\n"],"mappings":"AAeO,SAAS,QAAQ,KAA4B;AAClD,SACE,OAAO,QAAQ,YACf,QAAQ,QACR,WAAW,OACX,OAAQ,IAAc,UAAU,eAC9B,aAAa,OAAO,OAAQ,IAAc,YAAY,cAAe,EAAE,aAAa;AAE1F;AAYO,SAAS,YAAY,OAAqB;AAC/C,SAAO;AACT;","names":[]}